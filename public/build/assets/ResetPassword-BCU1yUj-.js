import{r as l,j as e}from"./client-BMqYja0k.js";import{L as x}from"./Auth-CF2_N7YG.js";import{G as p}from"./GoBack-VQ0UMCVR.js";import{u as N,a as j}from"./Alert-PhMt3h70.js";import{P as n}from"./Password-DK0lbdY-.js";function P(){const[a,i]=l.useState(""),[o,u]=l.useState(""),{Alert:h,handleAlert:s}=N(),[m,d]=l.useState(!1),f=async t=>{if(t.preventDefault(),!a||!o){s("All fields are required","error");return}if(a!==o){s("Passwords do not match","error");return}try{d(!0);const r=new URLSearchParams(window.location.search).get("token"),c=await j.post("/api/auth/reset-password",{token:r,password:a});c.data.success||s(c.data.message||"Failed to reset password","error"),s("Password reset successfully","success"),i(""),u("")}catch(r){r.response.data?s(r.response.data.message||"Failed to reset password","error"):s(r.message||"Failed to reset password","error")}finally{d(!1)}};return e.jsxDEV("div",{className:"flex justify-center items-center h-full",children:e.jsxDEV("div",{className:"bg-base-100 p-8 rounded-2xl shadow-lg w-full max-w-md",children:e.jsxDEV("form",{onSubmit:f,className:"space-y-6",children:[h,e.jsxDEV("div",{children:e.jsxDEV(p,{goto:"/login",text:"Back"},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:57,columnNumber:13},this)},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"text-3xl font-bold text-base-content",children:"Reset Password"},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:61,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-base-content/70 mt-2",children:"Enter New Password"},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:64,columnNumber:13},this)]},void 0,!0,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:60,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(n,{password:a,handleChange:t=>i(t.target.value),validate:!0},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:70,columnNumber:13},this)},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:69,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV(n,{password:o,handleChange:t=>u(t.target.value),label:"Confirm Password"},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:72,columnNumber:11},this),e.jsxDEV("button",{type:"submit",disabled:m,className:"btn btn-primary w-full text-primary-content font-semibold cursor-pointer disabled:text-black ",children:["Reset Password",m&&e.jsxDEV("span",{className:"loading loading-dots loading-xs"},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:83,columnNumber:26},this)]},void 0,!0,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:80,columnNumber:11},this),e.jsxDEV("div",{className:"text-center",children:e.jsxDEV("p",{className:"text-sm text-base-content/70",children:["Remember your password?"," ",e.jsxDEV(x,{to:"/login",className:"text-primary hover:text-primary/80 font-medium",children:"Sign In"},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:90,columnNumber:15},this)]},void 0,!0,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:88,columnNumber:13},this)},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:53,columnNumber:7},this)},void 0,!1,{fileName:"C:/xampp/htdocs/BilloCraft/resources/js/Auth/Auth/ResetPassword.jsx",lineNumber:52,columnNumber:5},this)}export{P as default};
